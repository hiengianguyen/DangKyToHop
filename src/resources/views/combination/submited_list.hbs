<head>
    <title>Đăng Ký Tổ Hợp | Danh Sách Đã Đăng Ký</title>
    <link rel="stylesheet" href="/css/home.css">
    <link rel="stylesheet" href="/css/school.css">
    <link rel="stylesheet" href="/css/submitedList.css">
    <link rel="stylesheet" href="/css/combination.css">
</head>

<div id="master" class="col .col-md-9 p-0">
    <div class="school-info d-flex">
        <img class="school-banner" src="https://res.cloudinary.com/dwoymvppw/image/upload/v1743963405/school_banner_second_nbdpyd.png">
        <div class="banner-container">
            <img class="school-banner-second" src="https://res.cloudinary.com/dwoymvppw/image/upload/v1743963404/school_banner_first_ezzd1f.png">
            <div class="school-info-detail fs-5">
                <img src="https://i.postimg.cc/fyNszfCN/bannertrencung.gif" alt="">
            </div>
        </div>
    </div>
    <div class="card-body" style="display: none;">
        <h3 class="text-center">Danh Sách Đã Đăng Ký</h3>
        <div class="container-submited-list">
            <div class="row">
            {{#each submitedList}}
                <div class="card mb-3 m-2" style="width: 340px;">
                    <div class="row g-0" style="position: relative;">
                        <div class="col-md-4 p-0 text-center d-flex align-items-center flex-column">
                            <img src="{{this.avatarLink}}" class="img-fluid rounded-end border border-dark-subtle" alt="{{this.fullName}}" style="margin-left: 7px;">
                            <a href="submited-detail/{{this.id}}" class="btn btn-primary mt-2" style="width: 107px; margin-left: 7px;">Xem thông tin</a>
                        </div>
                        <div class="col-md-8 ps-0">
                            <div class="card-body pe-0">
                                <h5 class="card-title">{{this.fullName}}</h5>
                                <div class="d-flex justify-content-between" style="font-size: 12px;">
                                    <div class="d-flex align-items-start flex-column">
                                        <p class="pe-1 m-0" style="width: max-content;"><b>Giới tính:</b></p>
                                        <p class="m-0 pe-0" >{{this.gender}}</p>
                                    </div>
                                    <div class="d-flex align-items-start flex-column mx-2">
                                        <p class="m-0" style="width: max-content;"><b>Ngày sinh:</b></p>
                                        <p class="m-0">{{this.dateOfBirth}}</p>
                                    </div>
                                    <div class="d-flex align-items-start flex-column">
                                        <p class="m-0" style="width: max-content;"><b>Dân tộc:</b></p>
                                        <p class="m-0">{{this.nation}}</p>
                                    </div>
                                </div>

                                <div class="d-flex align-items-start flex-column">
                                    <p class="pe-1 m-0"><b>Nguyện vọng 1:</b></p>
                                    <p class="m-0 pe-0" >{{this.combination1}}</p>
                                </div>

                                <div class="d-flex align-items-start flex-column">
                                    <p class="pe-1 m-0"><b>Nguyện vọng 2:</b></p>
                                    <p class="m-0 pe-0" >{{this.combination2}}</p>
                                </div>
                                
                                <div class="d-flex align-items-start flex-column">
                                    <p class="card-text mb-0"><small class="text-body-secondary">Đăng ký lúc:</small></p>
                                    <p class="card-text"><small class="text-body-secondary"><b>{{this.registeredAt}}</b></small></p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            {{/each}}
            </div>
        </div>
    </div>
</div>

<div id="loading-full" class="position-fixed" style="display: flex;">
    <div class="d-flex align-items-center flex-column">
        <h2 style="font-family: 'Lexend', sans-serif;color:#29a9ef;">Đang tải dữ liệu...</h2>
        <div class="spinner-border mt-4" style="width: 3rem; height: 3rem;color:#29a9ef;" role="status">
            <span class="visually-hidden">Loading...</span>
        </div>
    </div>
</div>

<script>
    window.addEventListener('load', function () {
        document.getElementById('loading-full').style.display = 'none';
        document.querySelector('.card-body').style.display = 'block';
    });

    const litSidebars = Array.from(document.querySelectorAll('#sidebar .box'));
    litSidebars.pop();

    litSidebars.forEach((li) => {
        if(li.getAttribute('value') === 'Danh sách đăng ký') {
            li.parentElement.classList.add('active');
        } else {
            li.parentElement.classList.remove('active');
        }
        li.parentElement.onclick = () => {
        li.parentElement.classList.add('active')
        litSidebars.forEach((liCheckClassActive) => {
            if(liCheckClassActive !== li) {
            liCheckClassActive.parentElement.classList.remove('active');
            }
        })
        }
    })
</script>